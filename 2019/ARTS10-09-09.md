# ARTS06-0812

## Algorithm

### 最长有效括号

[32. 最长有效括号](https://leetcode-cn.com/problems/longest-valid-parentheses/)

给定一个只包含 '(' 和 ')' 的字符串，找出最长的包含有效括号的子串的长度。

example 1:

```example
Input: "(()"
Output: 2
Explanation: 最长有效括号子串为 "()"
```

example 2:

```example
Input: ")()())"
Output: 4
Explanation: 最长有效括号子串为 "()()"
```

```javascript
const getValidLength = (s) => {
    const stack = [];
    let flag = false;
    let result = 0;
    s.split('').map((item, index) => {
        if (item === '(') {
            stack.push(item);
            flag = true;
        } else {
            if (flag) {
                stack.pop();
                if (!stack.length || stack[stack.length - 1] === ')') {
                    flag = false;
                }
                if (stack.length === 0 && index > result - 1) {
                    result = index + 1;
                }
            } else {
                stack.push(item);
            }
        }
        return;
    });
    return result;
};
/**
 * @param {string} s
 * @return {number}
 */
var longestValidParentheses = function(s) {
    const length = s.length;
    let maxLength = 0;
    for (let i = 0; i < length; i++) {
        const curMaxLength = getValidLength(s.slice(i));
        if (curMaxLength > maxLength) {
            maxLength = curMaxLength;
        }
        if (length - i - 1 < maxLength) {
            break;
        }
    }
    return maxLength;
};
```

### 
